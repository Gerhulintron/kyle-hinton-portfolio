<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Kyle Hinton Projects</title>
    <link rel="stylesheet" href="styles/SimStyle.css">
    <link rel="stylesheet" href="styles/KHPNavStyle.css"/>
</head>
<body>
    <div id="navbar-container"></div>

    <div class="body-container">
        <div>
            <h1>Kyle Hinton Projects Portfolio</h1>
            <h3>Simulations</h3>
        </div>

        <div class="development-outer-container" id="development-outer-container">
            <h1>Development</h1>
            <div class="development-portfolio-container">
            </div>
        </div>

        <div class="web-design-outer-container" id="web-design-outer-container">
            <h1>Web Design</h1>
            <div class="web-design-grid-container">
            </div>
        </div>

        <div class="creative-outer-container" id="creative-outer-container">
            <h1>Creative</h1>
            <div class="creative-grid-container">
            </div>
        </div>
    </div>
    <script>

        fetch('data/KyleHintonPortfolio.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error("Network response was not ok");
                }
                return response.json();
            })
            .then(data => {
                displayProjects(data, '.development-portfolio-container', 'Development');
                displayProjects(data, '.creative-grid-container', 'Creative');
                displayProjects(data, '.web-design-grid-container', 'Web Design');

            })
            .catch(error => {
                console.error("There has been a problem with your fetch operation", error);
            });

        fetch('pages/KyleHintonProjectsNavBar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
            });

        function displayProjects(data, containerClassName, projectType) {
            const portfolioContainer = document.querySelector(containerClassName);

            if (portfolioContainer) {
                const projectHTML = data['kyle-hinton-projects'].map(project => {
                    if(project['project-type'] == projectType) {
                        return createProjectHTML(project);
                    }
                }).join('');

                portfolioContainer.innerHTML = projectHTML;
            }
        }

        function createProjectHTML(project) {
            let portfolioHTML = `<div class="project-item">`;
            let imageHTML = '';
            let descriptionHTML = '<div class="project-image-description-container">';


            if (project['project-title']) {
                portfolioHTML += `<div class="project-title-container"><h1 class="project-title">${project['project-title']}</h1></div>`;
            }


            // Check if 'project-feature-photo' exists
            if (project['project-feature-photo-link']) {
                descriptionHTML += `<div class="project-image-container">
             <img class="project-feature-photo" src="${project['project-feature-photo-link']}" alt="${project['project-title']}">
                     </div>`;
            }

            // Check if 'project-title' exists

            // Check if 'project-description' exists
            if (project['project-description']) {

                descriptionHTML += `<div class="project-description-container"><p>${project['project-description']}</p></div>`;
            }
            else{
                descriptionHTML += `<div class="project-description-container"><p>No description at this time.</p></div>`;

            }

            descriptionHTML += `</div>`; // Close the description div
            // descriptionHTML += imageHTML + descriptionHTML; // Close the description div
            portfolioHTML += descriptionHTML; // Combine the image and description HTML

            // Add other project details directly to portfolioHTML
            if (project['project-mediums']) {
                portfolioHTML += `<div class="project-mediums">
                              <p>${project['project-mediums']}</p>
                          </div>`;
            }

            if (project['project-technology']) {
                portfolioHTML += `<div class="technology-languages">
                              <p>${project['project-technology']}</p>
                          </div>`;
            }

            if (project['project-presenter-producer']) {
                portfolioHTML += `<div class="project-presenter-producer">
                              <p>${project['project-presenter-producer']}</p>
                          </div>`;
            }

            // Check if 'project-links' exists and is an array
            if (Array.isArray(project['project-links']) && project['project-links'].length > 0) {
                const linksHTML = project['project-links'].map(link => {
                    return `<li><a href="${link['project-link']}" target="_blank">${link['link-name']}</a></li>`;
                }).join(' ');
                portfolioHTML += `<div class="project-links"><ul class="project-link-list">${linksHTML}</ul></div>`;
            }

            portfolioHTML += `</div>`; // Close the project item div

            return portfolioHTML;
        }

    </script>
</body>
</html>